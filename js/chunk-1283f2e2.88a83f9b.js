(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1283f2e2"],{"30ad":function(t,s,a){"use strict";var e=a("b80a"),i=a.n(e);i.a},3650:function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("div",{staticClass:"container mb-4 "},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-3 text-center"},[a("div",{staticClass:"bg-muted py-1",class:{"bg-info text-white active":"1"===t.progress}},[a("strong",[t._v("STEP 01")]),a("p",{staticClass:"h6"},[t._v("確認訂單資訊")])])]),a("div",{staticClass:"col-3 text-center"},[a("div",{staticClass:"bg-muted py-1",class:{"bg-info text-white active ":"2"===t.progress}},[a("strong",[t._v("STEP 02")]),a("p",{staticClass:"h6"},[t._v("輸入訂購資料")])])]),a("div",{staticClass:"col-3 text-center"},[a("div",{staticClass:"bg-muted py-1",class:{"bg-info text-white active":"3"===t.progress}},[a("strong",[t._v("STEP 03")]),a("p",{staticClass:"h6"},[t._v("付款/完成訂單")])])])])])])},i=[],r={data:function(){return{}},props:["progress"]},c=r,n=a("2877"),o=Object(n["a"])(c,e,i,!1,null,null,null);s["a"]=o.exports},"95e3":function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{attrs:{id:"bg-gray"}},[e("BuyProgress",{attrs:{progress:t.step}}),e("div",{staticClass:"container mb-5"},[e("div",{staticClass:"my-5 row justify-content-center"},[e("div",{staticClass:"col-md-6"},[t._m(0),e("table",{staticClass:"table my-4"},[t._m(1),e("tbody",t._l(t.order.products,(function(s){return e("tr",{key:s.id},[e("td",{staticClass:"align-middle"},[t._v(t._s(s.product.title))]),e("td",{staticClass:"align-middle"},[t._v(t._s(s.qty)+"/"+t._s(s.product.unit))]),e("td",{staticClass:"align-middle text-right"},[t._v(" "+t._s(t._f("currency")(s.final_total))+" ")])])})),0),e("tfoot",[e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v("總計")]),e("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.order.total)))])])])]),!1===t.order.is_paid?e("div",{staticClass:"clientinfo "},[t._m(2),e("table",{staticClass:"table my-4"},[e("tbody",[e("tr",[e("th",{attrs:{width:"100"}},[t._v("Email")]),e("td",[t._v(t._s(t.order.user.email))])]),e("tr",[e("th",[t._v("姓名")]),e("td",[t._v(t._s(t.order.user.name))])]),e("tr",[e("th",[t._v("收件人電話")]),e("td",[t._v(t._s(t.order.user.tel))])]),e("tr",[e("th",[t._v("收件人地址")]),e("td",[t._v(t._s(t.order.user.address))])]),e("tr",[e("th",[t._v("付款狀態")]),e("td",[t.order.is_paid?e("span",{staticClass:"text-success"},[t._v("付款完成")]):e("span",{staticClass:"text-danger"},[t._v("尚未付款")])])])])])]):e("div",{staticClass:"payfinish"},[e("img",{staticClass:"paid-img img-fluid",attrs:{src:a("b028"),alt:""}}),t._m(3)]),!1===t.order.is_paid?e("div",{staticClass:"text-right"},[e("button",{staticClass:"btn btn-secondary",on:{click:t.payOrder}},[t._v(" 前往付款 ")])]):e("div",{staticClass:"paid d-flex justify-content-between"},[e("a",{staticClass:"btn btn-outline-info",attrs:{href:"#"},on:{click:t.linkHome}},[t._v(" 回到大廳 ")]),e("router-link",{staticClass:"btn btn-secondary",attrs:{to:"/product_list"}},[t._v("繼續逛逛")])],1)])])])],1)])},i=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"h5 my-4"},[a("i",{staticClass:"fas fa-shopping-bag "}),t._v(" 訂單資訊")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("thead",{staticClass:"table-warning"},[a("th",[t._v("品名")]),a("th",[t._v("數量")]),a("th",[t._v("價格")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"h5 pt-4 "},[a("i",{staticClass:"fas fa-user-check"}),t._v(" 訂購人資訊")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:" py-4 my-4 text-dark text-center "},[a("h4",[t._v("～～～恭喜您完成購買～～～")]),a("p",{staticClass:"mt-3",staticStyle:{"font-size":"15px"}},[a("i",{staticClass:"mr-2 fas fa-bullhorn"}),t._v(" 全館 7 折優惠倒數計時，多款優選商品等你帶回家，歡迎再次光臨！！ ")])])}],r=(a("99af"),a("3650")),c={components:{BuyProgress:r["a"]},data:function(){return{fullPage:!0,orderId:"",order:{user:{}},step:"3"}},methods:{getOrder:function(){var t=this;t.$store.dispatch("updateLoading",!0);var s="".concat("https://vue-course-api.hexschool.io","/api/").concat("vincechen","/order/").concat(t.orderId);t.$http.get(s).then((function(s){t.order=s.data.order,t.$store.dispatch("updateLoading",!1)}))},payOrder:function(){var t=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("vincechen","/pay/").concat(t.orderId);t.$store.dispatch("updateLoading",!0),t.$http.post(s).then((function(s){s.data.success&&(t.getOrder(),t.$bus.$emit("message:push","付款成功","success")),t.$store.dispatch("updateLoading",!1)}))},linkHome:function(){var t=this;t.$router.push({path:"/"})}},created:function(){this.orderId=this.$route.params.orderId,this.getOrder()}},n=c,o=(a("30ad"),a("2877")),d=Object(o["a"])(n,e,i,!1,null,"139a941e",null);s["default"]=d.exports},b028:function(t,s,a){t.exports=a.p+"img/paid01.55657a46.jpg"},b80a:function(t,s,a){}}]);
//# sourceMappingURL=chunk-1283f2e2.88a83f9b.js.map